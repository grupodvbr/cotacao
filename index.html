<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LICITAR</title>

<style>
* { margin:0; padding:0; box-sizing:border-box; font-family: Arial, sans-serif; }

/* TELA DE BLOQUEIO */
#lockScreen {
  position: fixed;
  top:0; left:0; width:100%; height:100%;
  background:#0a0f15;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:99999;
}

/* LOGIN */
#loginBox {
  background:#111822;
  padding:35px;
  width:90%; max-width:350px;
  border-radius:14px;
  text-align:center;
  color:white;
}
.loginCampo {
  width:100%; padding:10px;
  border:none; border-radius:6px;
  margin-bottom:12px;
  font-size:15px;
}
#btnLogin {
  width:100%; padding:10px;
  background:#1a73e8; border:none;
  color:white; font-weight:bold;
  border-radius:6px;
  cursor:pointer;
}
#loginErro { margin-top:10px; color:#ff6b6b; height:18px; }

#lembrarBox {
  margin-bottom:12px; font-size:14px;
  display:flex; gap:6px; align-items:center;
}

/* LAYOUT */
body {
  background:#f1f3f7;
  display:flex;
  height:100vh;
  overflow:hidden;
}

/* MENU */
#sidebar {
  width:230px;
  background:#1a1f2e;
  color:white;
  padding:20px 10px;
  transition:0.3s;
}
.nav-item {
  padding:12px 10px;
  background:#2b3248;
  margin-bottom:10px;
  border-radius:8px;
  cursor:pointer;
}
.nav-item:hover { background:#3c4565; }

/* CONTEÚDO */
#content { flex:1; padding:25px; overflow:auto; }

.cards {
  display:flex; gap:20px; flex-wrap:wrap;
}
.card {
  width:150px; background:white;
  border-radius:10px;
  padding:10px;
  text-align:center;
  cursor:pointer;
  box-shadow:0 4px 12px rgba(0,0,0,0.15);
}
.card:hover { transform: scale(1.05); }
.card img {
  width:100%; height:100px;
  object-fit:cover; border-radius:8px;
}
</style>
</head>

<body>

<!-- ======================
     BLOQUEIO + LOGIN
====================== -->
<div id="lockScreen">
  <div id="loginBox">
    <h2>LICITAR</h2>

    <input id="loginUser" class="loginCampo" type="text" placeholder="Usuário">
    <input id="loginPass" class="loginCampo" type="password" placeholder="Senha">

    <div id="lembrarBox">
      <input type="checkbox" id="lembrar">
      <label for="lembrar">Lembrar de mim</label>
    </div>

    <button id="btnLogin" onclick="fazerLogin()">Entrar</button>
    <div id="loginErro"></div>
  </div>
</div>

<!-- MENU -->
<div id="sidebar">
  <div class="nav-item" onclick="loadPage('home')"><span class="nav-text">Página Inicial</span></div>
  <div class="nav-item" onclick="loadIframe('comparacao.html')"><span class="nav-text">Itens</span></div>
  <div class="nav-item" onclick="loadIframe('documentos.html')"><span class="nav-text">Documentação</span></div>
  <div class="nav-item" onclick="loadIframe('pagina3.html')"><span class="nav-text">Relatórios</span></div>
  <div class="nav-item" onclick="loadIframe('pagina4.html')"><span class="nav-text">Configurações</span></div>
</div>

<!-- CONTEÚDO -->
<div id="content">
  <div id="homeSection">
    <h1 style="margin-bottom:20px;">Sistemas de licitações</h1>

    <div class="cards">
      <div class="card" onclick="window.open('https://www.gov.br/compras/pt-br', '_blank')">
        <img src="https://github.com/grupodvbr/cotacao/blob/main/paste/Design%20sem%20nome%20(28).png?raw=true">
        <p>Compras.gov</p>
      </div>

      <div class="card" onclick="window.open('https://minha.effecti.com.br/#/', '_blank')">
        <img src="https://github.com/grupodvbr/cotacao/blob/main/paste/Design%20sem%20nome%20(29).png?raw=true">
        <p>Effecti</p>
      </div>
    </div>
  </div>

  <iframe id="iframePage" style="display:none; width:100%; height:90vh; border:none;"></iframe>
</div>

<script>
/* USUÁRIOS */
const usuarios = {
  adm: "1234",
  joao: "1111",
  ana: "2222"
};

/* LOGIN */
function fazerLogin(){
  const u = loginUser.value.trim().toLowerCase();
  const p = loginPass.value.trim();

  if(usuarios[u] && usuarios[u] === p){

    const token = btoa(u + "|" + p);

    if(lembrar.checked){
      localStorage.setItem("token", token);
    } else {
      sessionStorage.setItem("token", token);
    }

    liberarAcesso();
  } else {
    loginErro.innerText = "Usuário ou senha incorretos.";
  }
}

/* VALIDA TOKEN */
function validarLogin(){
  let token = localStorage.getItem("token") || sessionStorage.getItem("token");
  if(!token) return false;

  const [u,p] = atob(token).split("|");

  return usuarios[u] === p;
}

/* LIBERAR O SISTEMA */
function liberarAcesso(){
  lockScreen.style.display = "none";
}

/* VERIFICAR AO ABRIR */
window.onload = () => {
  if(validarLogin()){
    liberarAcesso();
  }
};

/* CARREGAR PÁGINAS */
function loadIframe(url){
  homeSection.style.display="none";
  iframePage.style.display="block";
  iframePage.src = url;
}
function loadPage(){
  homeSection.style.display="block";
  iframePage.style.display="none";
}
</script>

</body>
</html>
